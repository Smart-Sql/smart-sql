## Smart Sql 的运维

### Smart Sql 集群异地强一致性实时多活解决方案
  在金融行业中，我们要求数据是 100% 一致性，且稳定性要达到 5 个 9 既 99.999%。例如：我们有深圳机房、上海机房、贵州机房。我们要把深圳机房集群中的数据，实时事务性的复制到上海机房和贵州机房的集群。即使是深圳上海受到不可能抗击的毁灭，都不会影响数据的完整性、安全性、可用性！
  要达到这种要求，我们依赖两个机制，一个是集群本身，备份数据机制，既通过设置配置参数，可以达到一个集群中的，部分机器完全坏掉后，集群照样不受影响。二是依赖实时同步的事务机制，既深圳机房中集群的数据，是事务性的复杂到，其它集群。
  集群异地实时事务复制机制的原理：

1、在 Smart Sql 中将 insert、update、delete 的操作都转换成了 key-value 的操作，一条数据对应对应一个对象，把这个对象，传到高速存储器中。高速存储器在将对象写入异地的集群。

2、在事务中，本地集群和异地都提交成功了，才算提交成功，否则都会回滚！

**下面我们会做一个简单的例子来说明，异地强一致性实时多活解决方案。这个例子是有代表性的，但是在实际的过程中，用户可以参考这个例子做进一步的优化。例如：进一步优化传输效率，用磁盘阵列、固态硬盘的机器来作为，接收数据的服务器，等等**

**具体实现的思路：**
1. Smart Sql 集群中通过反射来调用 IMyLogTransaction 接口的实现。在事务开始的时候，传递一个指令给服务器，让它也创建一个事务。Smart Sql 执行事务的时候，也将相应的 key-value 传递给服务器，当 Smart Sql 提交事务的时候，也发送一个指令给服务器，让服务器上相应的数据也提交。如果提交失败。(无论是 Smart Sql 集群，还是异地的服务器)都同时回滚！
2. 为了简单，我们用

### Smart Sql 集群的安全设置